<!DOCTYPE html>
<html>
<head>
  <title>QAT Dashboard</title>

  <link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css?family=Roboto:400,700'>
  <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.css">
  <link rel="stylesheet" href="css/app.css">

  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-resource.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-animate.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-aria.min.js"></script>

  <script src="//ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.10/angular-ui-router.js"></script>

  <script src="js/app.js"></script>

</head>
<body ng-app="qat-dashboard">
<ui-view></ui-view>

<script type="text/ng-template" id="/dashboard.html">
  <md-content>
    <md-toolbar class="md-medium-tall md-whiteframe-18dp" style="position: fixed;" layout-align="center">
      <div id="dashboard-heading"><h2 class="md-display-1">QAT Dashboard</h2></div>
    </md-toolbar>
    <div class="md-medium-tall-shadow"></div>

    <br>

    <div layout="column" layout-align="start center">
      <div class="dashboard-item">
        <md-button class="md-raised md-accent" ng-click="vm.requestTestExec();">
          New Test Execution
        </md-button>
      </div>
      <md-card
          class="dashboard-item"
          ng-repeat="testExec in vm.testExecsMap | toArray | orderBy:'uuid':true track by testExec.uuid"
          layout="row" layout-align="center center" layout-wrap
          md-ink-ripple>
        <md-card-content flex>
          <div layout="row">
            <span class="dashboard-item-uuid-time">
              {{vm.getDate(testExec) | date:'medium'}}
            </span>
            <span class="dashboard-item-counters" flex>
              <span ng-hide="testExec.status==='QUEUED'||testExec.status==='DRYRUN'">
                <div>
                  TOTAL:
                  <span class="dashboard-item-counters-count">{{testExec.counters.total}}</span>
                </div>
                &nbsp;&nbsp;&nbsp;
                <div>
                  COMPLETED:
                  <span class="dashboard-item-counters-count">{{testExec.counters.completed || 0}}</span>
                </div>
                <span ng-show ="testExec.counters.failed > 0">
                  &nbsp;&nbsp;&nbsp;
                  <div>
                    FAILED:
                    <span class="dashboard-item-counters-count">{{testExec.counters.failed || 0}}</span>
                  </div>
                  &nbsp;&nbsp;&nbsp;
                  <div>
                    SKIPPED:
                    <span class="dashboard-item-counters-count">{{testExec.counters.skipped || 0}}</span>
                  </div>
                </span>
              </span>
            </span>
            <div class="dashboard-item-status-shadow" flex="none"></div>
          </div>
        </md-card-content>
        <div
            class="dashboard-item-status {{vm.getStatusCssClass(testExec)}}"
            layout="column" layout-align="center center" layout-fill>
          {{testExec.status}}
        </div>
      </md-card>
    </div>
  </md-content>
</script>
</body>

</html>
